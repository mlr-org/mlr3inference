---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  cache = FALSE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
library(mlr3)
library(mlr3misc)
set.seed(1)
lgr::get_logger("mlr3")$set_threshold("warn")
```

# mlr3inference <img src="man/figures/logo_orig.png" align="right" height="139" />

Statistical inference methods for {mlr3}.

Package website: [dev](https://mlr3inference.mlr-org.com/dev/)

<!-- badges: start -->
[![RCMD Check](https://github.com/mlr-org/mlr3inference/actions/workflows/r-cmd-check.yaml/badge.svg)](https://github.com/mlr-org/mlr3inference/actions/workflows/r-cmd-check.yaml)
[![CRAN status](https://www.r-pkg.org/badges/version/mlr3inference)](https://CRAN.R-project.org/package=mlr3inference)
[![StackOverflow](https://img.shields.io/badge/stackoverflow-mlr3-orange.svg)](https://stackoverflow.com/questions/tagged/mlr3)
[![Mattermost](https://img.shields.io/badge/chat-mattermost-orange.svg)](https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/)
<!-- badges: end -->



## Installation

```{r, eval = FALSE}
pak::pkg_install("mlr-org/mlr3inference")
```


## What is `mlr3inference`?

The main purpose of the package is to allow to obtain confidence intervals for the generalization error for a number of resampling methods.
Below, we evaluate a decision tree on the sonar task using a holdout resampling and obtain a confidence interval for the generalization error.
This is achieved using the `msr("ci.holdout")` measure, to which we pass another `mlr3::Measure` that determines the loss function.


```{r}
library(mlr3inference)

rr = resample(tsk("sonar"), lrn("classif.rpart"), rsmp("holdout"))
ci = msr("ci.holdout", "classif.acc")
rr$aggregate(ci)
```

It is also possible to select the default inference method for a certain `Resampling` method using `msr("ci")`

```{r}
ci_default = msr("ci", "classif.acc")
rr$aggregate(ci_default)
```

Note that:

* Confidence Intervals can only be obtained for measures that are based on pointwise loss functions, i.e. have an `$obs_loss` field.
* Not for every resampling method exists an inference method.
* There are combinations of datasets and learners, where inference methods can fail.

## Features

* Additional Resampling Methods
* Confidence Intervals for the Generalization Error for some resampling methods 


## Inference Methods

```{r, echo = FALSE}
content = as.data.table(mlr3::mlr_measures, objects = TRUE)[startsWith(get("key"), "ci."),]
content$resamplings = map(content$object, "resamplings")
content = content[, c("key", "label", "resamplings")]
knitr::kable(content, format = "markdown", col.names = tools::toTitleCase(names(content)))
```


## Bugs, Questions, Feedback

*mlr3inference* is a free and open source software project that
encourages participation and feedback. If you have any issues,
questions, suggestions or feedback, please do not hesitate to open an
“issue” about it on the GitHub page\!

In case of problems / bugs, it is often helpful if you provide a
“minimum working example” that showcases the behaviour (but don’t
worry about this if the bug is obvious).

Please understand that the resources of the project are limited:
response may sometimes be delayed by a few days, and some feature
suggestions may be rejected if they are deemed too tangential to the
vision behind the project.
